# 如何用好 CDN

当今世界，对所有人而言，网站必须具有一切功能：网站必须有吸引力、速度快、有灵活性及可移动性，甚至必须要能够不断变化。此外，还必须支持频繁的会话、支持各种浏览器、智能手机、平板电脑以及其它用户可能会用到的设备。

网站必须能够在复杂的网络环境下运行，比如中国、亚洲、中东等网络连接很差的区域或国家，这些地方不仅地理位置分散，距离遥远而且网络多样化。更不必说，对于移动站点或应用程序而言，不仅有线连接如DSL或电缆线甚至无线连接如 GPRS、EDGE、3G 及现在的 LTE 等，都必须有很高的连接性能，然而即使是这些提供连接服务的供应商都可能不会有很好的网络连接。

此外，站点使用越来越多的对象，如图片、帧、CSS 及 APIs，比如 AJAX，以及远程调用，比如从 Facebook 调用到 Google，甚至使用各种各样的共享、跟踪及附加值系统等。

难怪，系统变得越来越慢，用户只访问能够最快打开、性能最好的网站。Google 及其它网站的研究表明，一个网站每慢一秒钟，就会丢失许多访客，甚至这些访客永远不会再次光顾这些网站。

要想使用好 CDN，最关键的一点还在于能够有良好的缓存控制。这样，CDN 能够知道缓存哪些对象以及要缓存多长时间。理想的情况是，像图片这些东西基本很少发生变化，若有更新的话，应该将文件名URL更改掉并且HTML变更到指向新的对象。有时候，要进行这些更改并不容易，因为必须在源主机进行更新，这就要求短时间的(1个小时或1天)缓存这些东西，或者使这些在 CDN 缓存中失效。

对于任何网站而言，最好的做法也许是将两种方法结合使用，也就是使用 CDN 来处理静态 HTML 页面，使用 AJAX 处理动态数据。这样便可以从后台系统提供服务数据，给用户快速提供动态数据，使用户有良好的体验。

监控 – 要想很好地跟踪CDN的运行情况，就必须使用监控工具，如 Gomez、ip-label 或Network Bench。它们可以帮助您监控 CDN 的实际性能，这一点可以从不同的网络及终端用户的使用情况中得到证实。并且，这样做有助于识别并发现问题，确保 CDN 服务能按照所期望的运作。

总之，几乎每个人都应该使用 CDN，尤其是现在的世界生活节奏快、充满活力、要求又很苛刻，所以人们更应当使用CDN。
